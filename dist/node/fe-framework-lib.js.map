{"version":3,"file":"fe-framework-lib.js","names":["_preact","require","FrameworkLib","constructor","ref","renderStart","subApp","element","options","props","_prepared","Component","info","StartComponent","serverSideRendering","hydrate","h","render","_default","exports","default"],"sources":["../../src/fe-framework-lib.js"],"sourcesContent":["/** @jsx h */\nimport { h, render, hydrate } from \"preact\";\n\nclass FrameworkLib {\n  constructor(ref) {\n    this.ref = ref;\n  }\n\n  renderStart() {\n    const { subApp, element, options } = this.ref;\n\n    const props = { ...options._prepared, ...options.props };\n    const Component = subApp.info.StartComponent || subApp.info.Component;\n    if (element) {\n      if (options.serverSideRendering) {\n        hydrate(<Component {...props} />, element);\n      } else {\n        render(<Component {...props} />, element);\n      }\n    } else {\n      // no DOM element to render into, just return subapp as a component\n      return <Component {...props} />;\n    }\n  }\n}\n\nexport default FrameworkLib;\n"],"mappings":";;;;;;AACA,IAAAA,OAAA,GAAAC,OAAA;AADA;;AAGA,MAAMC,YAAY,CAAC;EACjBC,WAAWA,CAACC,GAAG,EAAE;IACf,IAAI,CAACA,GAAG,GAAGA,GAAG;EAChB;EAEAC,WAAWA,CAAA,EAAG;IACZ,MAAM;MAAEC,MAAM;MAAEC,OAAO;MAAEC;IAAQ,CAAC,GAAG,IAAI,CAACJ,GAAG;IAE7C,MAAMK,KAAK,GAAG;MAAE,GAAGD,OAAO,CAACE,SAAS;MAAE,GAAGF,OAAO,CAACC;IAAM,CAAC;IACxD,MAAME,SAAS,GAAGL,MAAM,CAACM,IAAI,CAACC,cAAc,IAAIP,MAAM,CAACM,IAAI,CAACD,SAAS;IACrE,IAAIJ,OAAO,EAAE;MACX,IAAIC,OAAO,CAACM,mBAAmB,EAAE;QAC/B,IAAAC,eAAO,EAAC,IAAAf,OAAA,CAAAgB,CAAA,EAACL,SAAS,EAAKF,KAAQ,CAAC,EAAEF,OAAO,CAAC;MAC5C,CAAC,MAAM;QACL,IAAAU,cAAM,EAAC,IAAAjB,OAAA,CAAAgB,CAAA,EAACL,SAAS,EAAKF,KAAQ,CAAC,EAAEF,OAAO,CAAC;MAC3C;IACF,CAAC,MAAM;MACL;MACA,OAAO,IAAAP,OAAA,CAAAgB,CAAA,EAACL,SAAS,EAAKF,KAAQ,CAAC;IACjC;EACF;AACF;AAAC,IAAAS,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEclB,YAAY"}